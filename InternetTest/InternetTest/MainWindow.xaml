<controls:MicaWindow
    x:Class="InternetTest.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:components="clr-namespace:InternetTest.Components"
    xmlns:controls="clr-namespace:MicaWPF.Lite.Controls;assembly=MicaWPF.Lite"
    xmlns:converters="clr-namespace:InternetTest.Converters"
    xmlns:cvm="clr-namespace:InternetTest.ViewModels.Components"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:lang="clr-namespace:InternetTest.Properties"
    xmlns:local="clr-namespace:InternetTest"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:views="clr-namespace:InternetTest.Views"
    xmlns:vm="clr-namespace:InternetTest.ViewModels"
    Title="{x:Static lang:Resources.InternetTest}"
    Width="950"
    Height="600"
    MinWidth="500"
    MinHeight="500"
    FontFamily="\Fonts\#Hauora"
    WindowStartupLocation="CenterScreen"
    mc:Ignorable="d">
    <controls:MicaWindow.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVis" />
        <converters:BoolToStringConverter x:Key="BoolToStringConverter" />
        <converters:InverseBoolToVisibilityConverter x:Key="InverseBoolToVis" />
    </controls:MicaWindow.Resources>
    <controls:MicaWindow.TitleBarContent>
        <StackPanel
            HorizontalAlignment="Right"
            Orientation="Horizontal"
            WindowChrome.IsHitTestVisibleInChrome="False">
            <Border
                Grid.Column="1"
                Padding="5 2"
                VerticalAlignment="Center"
                Background="{DynamicResource CardBackground}"
                CornerRadius="10">
                <TextBlock
                    x:Name="VersionTxt"
                    d:Text="9.0.0.2508"
                    FontSize="10"
                    FontWeight="Bold"
                    Foreground="{DynamicResource DarkGray}"
                    Text="{Binding Version}" />
            </Border>
            <Button
                Width="46"
                Height="24"
                Background="Transparent"
                Command="{Binding PinCommand}"
                Content="{Binding Pinned, Converter={StaticResource BoolToStringConverter}, Mode=TwoWay, ConverterParameter='&#xF604;,&#xF602;'}"
                FontFamily="/Fonts/#FluentSystemIcons-Regular"
                FontSize="14"
                Foreground="{DynamicResource Foreground1}"
                Style="{DynamicResource TitleBarButtonStyle}">
                <Button.ToolTip>
                    <ToolTip x:Name="PinTooltip" Content="{Binding PinnedTooltip}" />
                </Button.ToolTip>
            </Button>
            <Button
                Width="46"
                Height="24"
                Background="Transparent"
                Command="{Binding ToggleConfidentialModeCommand}"
                FontSize="14"
                Foreground="{DynamicResource Foreground1}"
                Style="{DynamicResource TitleBarButtonStyle}">
                <Grid>
                    <TextBlock
                        x:Name="RegularLockTxt"
                        FontFamily="/Fonts/#FluentSystemIcons-Regular"
                        Text="&#xFC25;"
                        Visibility="{Binding ConfidentialMode, Converter={StaticResource InverseBoolToVis}}" />
                    <TextBlock
                        x:Name="FilledLockTxt"
                        FontFamily="/Fonts/#FluentSystemIcons-Filled"
                        Text="&#xFC2C;"
                        Visibility="{Binding ConfidentialMode, Converter={StaticResource BoolToVis}}" />
                </Grid>
                <Button.ToolTip>
                    <ToolTip x:Name="ConfidentialModeTooltip" Content="{Binding ConfidentialTooltip}" />
                </Button.ToolTip>
            </Button>
        </StackPanel>
    </controls:MicaWindow.TitleBarContent>
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="250" />
            <ColumnDefinition />
        </Grid.ColumnDefinitions>
        <Grid.Resources>
            <DataTemplate DataType="{x:Type vm:HomePageViewModel}">
                <views:HomePage />
            </DataTemplate>
            <DataTemplate DataType="{x:Type vm:SettingsPageViewModel}">
                <views:SettingsPage />
            </DataTemplate>
            <DataTemplate DataType="{x:Type vm:WiFiPageViewModel}">
                <views:WiFiPage />
            </DataTemplate>
            <DataTemplate DataType="{x:Type vm:LocateIpPageViewModel}">
                <views:LocateIpPage />
            </DataTemplate>
            <DataTemplate DataType="{x:Type vm:IpConfigPageViewModel}">
                <views:IpConfigPage />
            </DataTemplate>
            <DataTemplate DataType="{x:Type vm:PingPageViewModel}">
                <views:PingPage />
            </DataTemplate>
            <DataTemplate DataType="{x:Type vm:RequestsPageViewModel}">
                <views:RequestsPage />
            </DataTemplate>
        </Grid.Resources>
        <Grid DataContext="{Binding SidebarViewModel}">
            <Grid.Resources>
                <DataTemplate DataType="{x:Type cvm:SidebarViewModel}">
                    <components:Sidebar />
                </DataTemplate>
            </Grid.Resources>
            <components:Sidebar />
        </Grid>
        <ScrollViewer
            Grid.Column="1"
            HorizontalScrollBarVisibility="Disabled"
            VerticalScrollBarVisibility="Auto">
            <ContentControl Content="{Binding CurrentViewModel}" />
        </ScrollViewer>
    </Grid>
</controls:MicaWindow>
